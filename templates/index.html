{% extends 'layout.html' %}

{% block body %}
<!-- banner -->
<section class="banner_w3lspvt" id="home">
	<div class="csslider infinity" id="slider1">
	
				<div class="banner-top">
					<div class="overlay">
						<div class="container">
							<div class="w3layouts-banner-info text-center">
								<h3 class="text-wh">AGRIADVISOR</h3>
								<h4 class="text-wh mx-auto my-4"><b>Get informed decisions about your farming strategy.</b></h4>
								<br>
								<h4 class="text-wh mx-auto my-4"><strong> Here are some questions we'll answer</strong></h4>
								<p class="text-li mx-auto mt-2">
									1. What crop to plant here? <br>
									2. What fertilizer to use? <br>
									3. Which disease do your crop have?<br>
									4. How to cure the disease?</p>
							</div>
						</div>
					</div>
				</div>
	</div>
</section>
<!-- //banner -->

<!-- core values -->
<section class="core-value py-5">
	<div class="container py-md-4">
		<h3 class="heading mb-sm-5 mb-4 text-center"> About Us</h3>
		<div class="row core-grids">
			<div class="col-lg-6 core-left">
				<img src="{{ url_for('static', filename='images/core.jpg') }}" class="img-fluid" alt="" />
			</div>
			<div class="col-lg-6 core-right">
				<h3 class="mt-4">Improving Agriculture, Improving Lives, Cultivating Crops To Make Farmers Increase
					Profit.</h3>
				<p class="mt-3">We use state-of-the-art machine learning and deep learning technologies to help you
					guide through
					the entire farming process. Make informed decisions to understand the demographics of your area,
					understand the
					factors that affect your crop and keep them healthy for a super awesome successful yield.</p>
			</div>
		</div>
	</div>
</section>
<!-- //core values -->

<!-- Products & Services -->
<section class="blog py-5">
	<div class="container py-md-5">
		<h3 class="heading mb-sm-5 mb-4 text-center"> Our Services</h3>
		<div class="row blog-grids">
			<div class="col-lg-4 col-md-6 blog-left mb-lg-0 mb-sm-5 pb-lg-0 pb-5">
				<img src="{{ url_for('static', filename='images/s3.jpg') }}" class="img-fluid" alt="" />
				<a href="{{ url_for('crop') }}">
					<div class="blog-info">

						<h4>Crop</h4>

						<p class="mt-2"> Recommendation about the type of crops to be cultivated which is best suited
							for the respective conditions</p>
					</div>
				</a>
			</div>
			<div class="col-lg-4 col-md-6 blog-middle mb-lg-0 mb-sm-5 pb-lg-0 pb-md-5">
				<img src="{{ url_for('static', filename='images/s2.jpg') }}" class="img-fluid" alt="" />
				<a href="{{ url_for('fertilizer') }}">
					<div class="blog-info">
						<h4>Fertilizer</h4>
						<p class="mt-2">Recommendation about the type of fertilizer best suited for the particular soil
							and the recommended crop</p>
					</div>
				</a>
			</div>
			<div class="col-lg-4 col-md-6 blog-right mt-lg-0 mt-5 pt-lg-0 pt-md-5">

				<img src="{{ url_for('static', filename='images/s4.jpg') }}" class="img-fluid" alt="">

				<!-- <img src="images/s4.jpg" class="img-fliud" alt="" /> -->
				<a href="{{ url_for('disease') }}">
					<div class="blog-info">
						<h4>Crop Disease</h4>
						<p class="mt-2">Predicting the name and causes of crop disease and suggestions to cure it</p>
					</div>
				</a>
			</div>
		</div>
	</div>
</section>
<!-- //Products & Services -->

<!-- Floating Chat -->
<div id="floating-chat">
	<div class="chat-header">
	  <h3>Chat with AGRIADVISOR</h3>
	  <button id="minimize-chat">-</button>
	</div>
	<div class="chat-body">
	  <div id="chat-messages"></div>
	  <textarea id="user-input" placeholder="Type your message..."></textarea>
	  <button id="send-message">Send</button>
	</div>
  </div>
  
  <script>
	document.addEventListener("DOMContentLoaded", function() {
	  const chatBody = document.querySelector("#floating-chat .chat-body");
	  const minimizeChatBtn = document.querySelector("#minimize-chat");
	  const sendMessageBtn = document.querySelector("#send-message");
	  const userInput = document.querySelector("#user-input");
	  const chatMessages = document.querySelector("#chat-messages");
  
	  minimizeChatBtn.addEventListener("click", function() {
		chatBody.style.display = chatBody.style.display === "none" ? "block" : "none";
	  });
  
	  sendMessageBtn.addEventListener("click", function() {
		const userMessage = userInput.value.trim();
  
		if (userMessage !== "") {
		  // Add the user's message to the chat
		  chatMessages.innerHTML += `<div class="user-message">${userMessage}</div>`;
  
		  // Get the chatbot's response
		  const botResponse = getBotResponse(userMessage);
  
		  // Display the chatbot's response in the chat
		  chatMessages.innerHTML += `<div class="bot-message">${botResponse}</div>`;
  
		  // Clear the user input
		  userInput.value = "";
		}
	  });
  
	  // Function to get the chatbot's response
	  function getBotResponse(userMessage) {
		const lowerCaseMessage = userMessage.toLowerCase();
  
		// Check for greetings
		if (lowerCaseMessage.includes("hi") || lowerCaseMessage.includes("hello")) {
		  return "Hi, how can I help you?";
		}
  
		// Check for crop-related queries
		if (lowerCaseMessage.includes("crop")) {
		  return "Can you provide information about your field? For example, where it is located, soil type, etc.";
		}
  
		// Check for field-related queries
		if (lowerCaseMessage.includes("black")){
		  return "Crops suitable for your field include cotton, sugarcane, wheat, millets, etc. For more specific recommendations, please visit our crop recommendation page.";
		}
  
		// Check for fertilizer-related queries
		if (lowerCaseMessage.includes("fertilizer")) {
		  return "Please provide more information about your crop, such as its age and any fertilizers or pesticides used earlier.";
		}
  
		// Check for crop age and fertilizer name
		if ((lowerCaseMessage.includes("wheat"))){
		  return "Use nitrogen, magnesium, and iron-based fertilizers during the growth phase. Apply phosphorus and carbon-rich fertilizers to support root development. For more specific recommendations, please visit our fertilizer recommendation page.";
		}
  
		// Check for disease-related queries
		if (lowerCaseMessage.includes("disease")) {
		  return "Common diseases include Alternaria blotch, Alternaria fruit rot, and American hawthorn rust. For more specific identification of your plant disease, please visit our disease prediction page.";
		}
  
		// Default response for unrecognized queries
		return "I'm sorry, I didn't understand that. How can I assist you?";
	  }
	});
  </script>
  
	{% endblock %}